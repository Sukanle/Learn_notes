# Windows 编码规定
## `Typedef`
Windows 标头中含有大量的`Typedef`。其中绝大多数与`C/C++`的`stddef.h`标头一样，定义在一个`WinDef.h`标头。
### 整数类型

|数据类型|大小|符号类型|对应的标准类型|
|-|-|-|-|
|BYTE|8位|无符号|uint8_t|
|WORD|16位|无符号|int16_t|
|DWORD|32位|无符号|uin32_t|
|INT32|32位|有符号|int32_t|
|LONG|32位|有符号|int32_t|
|UINT32|32位|无符号|uint32_t|
|INT64|64位|有符号|int64_t|
|LONGLONG|64位|有符号|int64_t|
|UINT64|64位|无符号|int64_t|
|ULONGLONG|64位|无符号|int64_t|

### 布尔类型
`BOOL`是`int`类型的别名，不同于`C++`内置的`bool`。`WinDef.h`标头还定义用于`BOOL`的两个值。
```cpp
#define FLASE 0
#define TRUE 1
```
但是，尽管定义 为 TRUE，但大多数返回 BOOL 类型的函数都可以返回任何非零值来指示布尔值。 因此，应始终编写：
```cpp
// Right way.
if (ReturnBoolfn())
{
    ...
}
// or
if (ReturnBoolfn() != FALSE)
{
    ...
}
```
而不是以下：
```cpp
if (result == TRUE) // Wrong!
{
    ...
}
```
> BOOL是整数类型，不能与`C++`的`bool`互换。

### 指针类型
Windows定义指向X的表单 指针的许多数据类型。 名称中通常具有前缀`P-`或`LP-` 。 例如，`LPRECT `是指向`RECT `的指针，其中`RECT `是描述矩形的结构。以下变量声明是等效的。
```cpp
RECT*  rect;  // Pointer to a RECT structure.
LPRECT rect;  // The same
PRECT  rect;  // Also the same.
```
在16位体系结构(16位Windows)有2种类型的指针，`P`表示「指针」，`LP `代表「长指针」。长指针 (也称为*远指针*) 用于处理当前段以外的内存范围。`LP`前缀已保留，以便更轻松地将16位代码移植到32位 Windows。今天没有区别，这些指针类型都是等效的。避免使用这些前缀,或者，如果必须使用一个，则使用 `P`，允许的情况下，请优先使用`ISO C/C++`的`*`表示指针类型。

### 指针精度类型
以下数据类型始终是指针的大小，即32位应用程序中为32位宽，在64位应用程序中为64位宽。大小在编译时确定。当32 位应用程序在64位Windows上运行时，这些数据类型仍为4个字节宽。(64位应用程序无法在32位Windows上运行，因此不会发生相反的情况。)
* `DWORD_PTR`
* `INT_PTR`
* `LONG_PTR`
* `ULONG_PTR`
* `UINT_PTR`
这些类型用于整数可能强制转换为指针的情况。它们还用于定义指针算术的变量，并定义循环计数器，循环访问内存缓冲区中所有字节的范围。更一般地，它们出现在64位Windows上现有32位值扩展为64位的位置。

## 匈牙利表示法
> C++核心准则禁止使用前缀表示法(例如匈牙利表示法)。在内部，Windows团队不再使用它。但它的用法仍保留在示例和文档中。
匈牙利表示法在其原始形式中提供有关变量的语义信息，告知你预期用途。例如，`i`表示索引，`cb`表示字节大小(字节计数) ， 以及`rw`和`col`平均行和列数。这些前缀旨在避免在错误上下文中意外使用变量。例如，如果看到表达式`rwPosition + cbTable` ，就会知道正在向大小添加行号，这几乎可以肯定是代码中的`bug`。

匈牙利语表示法的更常见形式使用前缀来提供类型信息，例如，`dw`表示`DWORD `，`w`表示 `WORD`。
